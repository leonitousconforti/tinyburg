---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout title="404 - Page Not Found | Tinyburg">
	<div class="page-container page-container--centered">
		<a href="/" class="back-link back-link--absolute">‚Üê Back to Home</a>

		<div class="error-content">
			<!-- Animated Tower with missing floor -->
			<div class="tower-scene">
				<svg class="tower" viewBox="0 0 200 280" xmlns="http://www.w3.org/2000/svg">
					<!-- Building base -->
					<rect class="building-base" x="50" y="40" width="100" height="220" fill="#1a3a5c" />

					<!-- Roof -->
					<polygon class="roof" points="50,40 100,15 150,40" fill="#8b4513" />

					<!-- Floors - with one missing/floating -->
					<g class="floor floor-1">
						<rect x="55" y="50" width="90" height="22" fill="#ffeb99" />
						<rect x="60" y="54" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="78" y="54" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="96" y="54" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="114" y="54" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="132" y="54" width="8" height="14" fill="rgba(0,0,0,0.2)" />
					</g>

					<g class="floor floor-2">
						<rect x="55" y="76" width="90" height="22" fill="#ff9966" />
						<rect x="60" y="80" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="78" y="80" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="96" y="80" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="114" y="80" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="132" y="80" width="8" height="14" fill="rgba(0,0,0,0.2)" />
					</g>

					<!-- Missing floor - gap -->
					<g class="floor floor-missing">
						<rect x="55" y="102" width="90" height="22" fill="#1a3a5c" stroke="#ffd700" stroke-width="1" stroke-dasharray="4,2" />
						<text x="100" y="117" text-anchor="middle" fill="#ffd700" font-family="'Press Start 2P', cursive" font-size="6">404</text>
					</g>

					<!-- Floating floor searching for its place -->
					<g class="floor floor-floating">
						<rect x="55" y="102" width="90" height="22" fill="#66b3ff" />
						<rect x="60" y="106" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="78" y="106" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="96" y="106" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="114" y="106" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="132" y="106" width="8" height="14" fill="rgba(0,0,0,0.2)" />
						<!-- Question mark -->
						<text x="100" y="118" text-anchor="middle" fill="white" font-size="14" font-weight="bold">?</text>
					</g>

					<g class="floor floor-4">
						<rect x="55" y="128" width="90" height="22" fill="#cc99ff" />
						<rect x="60" y="132" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="78" y="132" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="96" y="132" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="114" y="132" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="132" y="132" width="8" height="14" fill="rgba(0,0,0,0.2)" />
					</g>

					<g class="floor floor-5">
						<rect x="55" y="154" width="90" height="22" fill="#ff99cc" />
						<rect x="60" y="158" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="78" y="158" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="96" y="158" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="114" y="158" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="132" y="158" width="8" height="14" fill="rgba(0,0,0,0.2)" />
					</g>

					<g class="floor floor-6">
						<rect x="55" y="180" width="90" height="22" fill="#99ff99" />
						<rect x="60" y="184" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="78" y="184" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="96" y="184" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="114" y="184" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="132" y="184" width="8" height="14" fill="rgba(0,0,0,0.2)" />
					</g>

					<!-- Lobby -->
					<g class="lobby">
						<rect x="55" y="206" width="90" height="22" fill="#dddddd" />
						<rect x="60" y="210" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="78" y="210" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="114" y="210" width="12" height="14" fill="rgba(0,0,0,0.2)" />
						<rect x="132" y="210" width="8" height="14" fill="rgba(0,0,0,0.2)" />
						<!-- Door -->
						<rect x="92" y="212" width="16" height="16" fill="#8b4513" />
					</g>

					<!-- Ground -->
					<rect x="30" y="228" width="140" height="30" fill="#7cb342" />

					<!-- Gold border -->
					<rect x="50" y="40" width="100" height="188" fill="none" stroke="#ffd700" stroke-width="2" />
				</svg>

				<!-- Confused bitizen -->
				<div class="bitizen">
					<span class="bitizen-emoji">ü§î</span>
				</div>
			</div>

			<!-- Error Message -->
			<div class="error-message">
				<span class="error-code">404</span>
				<h1>Floor Not Found</h1>
				<p>This floor doesn't exist in our tower!</p>
			</div>

			<!-- Action buttons -->
			<div class="error-actions">
				<a href="/" class="action-button primary">
					<span class="button-icon">üè†</span>
					<span>Go to Lobby</span>
				</a>
				<button class="action-button secondary" onclick="history.back()">
					<span class="button-icon">üõó</span>
					<span>Take Elevator Back</span>
				</button>
			</div>

			<!-- Fun message -->
			<p class="fun-message">
				Maybe the bitizens moved this floor? Try the lobby instead!
			</p>
		</div>
	</div>
</BaseLayout>

<style>
	.error-content {
		display: flex;
		flex-direction: column;
		align-items: center;
		text-align: center;
		max-width: 500px;
	}

	/* Tower Scene */
	.tower-scene {
		position: relative;
		width: 200px;
		height: 280px;
		margin-bottom: 2rem;
	}

	.tower {
		width: 100%;
		height: 100%;
		filter: drop-shadow(4px 4px 0 rgba(0, 0, 0, 0.2));
	}

	/* Floating floor animation - searching for its spot */
	.floor-floating {
		animation: floatAround 4s ease-in-out infinite;
	}

	@keyframes floatAround {
		0%,
		100% {
			transform: translate(60px, -40px) rotate(-5deg);
		}
		25% {
			transform: translate(70px, -35px) rotate(3deg);
		}
		50% {
			transform: translate(55px, -45px) rotate(-3deg);
		}
		75% {
			transform: translate(65px, -30px) rotate(5deg);
		}
	}

	/* Subtle wobble for other floors */
	.floor-1,
	.floor-2,
	.floor-4,
	.floor-5,
	.floor-6 {
		animation: gentleWobble 3s ease-in-out infinite;
	}

	.floor-2 {
		animation-delay: 0.2s;
	}
	.floor-4 {
		animation-delay: 0.4s;
	}
	.floor-5 {
		animation-delay: 0.6s;
	}
	.floor-6 {
		animation-delay: 0.8s;
	}

	@keyframes gentleWobble {
		0%,
		100% {
			transform: translateX(0);
		}
		50% {
			transform: translateX(1px);
		}
	}

	/* Missing floor blink */
	.floor-missing {
		animation: blink 1.5s ease-in-out infinite;
	}

	@keyframes blink {
		0%,
		100% {
			opacity: 1;
		}
		50% {
			opacity: 0.5;
		}
	}

	/* Confused bitizen */
	.bitizen {
		position: absolute;
		bottom: 60px;
		left: 50%;
		transform: translateX(-50%);
		animation: lookAround 2s ease-in-out infinite;
	}

	.bitizen-emoji {
		font-size: 1.5rem;
	}

	@keyframes lookAround {
		0%,
		100% {
			transform: translateX(-50%) scaleX(1);
		}
		50% {
			transform: translateX(-50%) scaleX(-1);
		}
	}

	/* Error Message */
	.error-message {
		margin-bottom: 2rem;
	}

	.error-code {
		font-family: "Press Start 2P", cursive;
		font-size: 3rem;
		color: var(--gold);
		text-shadow:
			3px 3px 0 var(--gold-dark),
			-1px -1px 0 rgba(0, 0, 0, 0.3);
		display: block;
		margin-bottom: 0.5rem;
	}

	.error-message h1 {
		font-family: "Press Start 2P", cursive;
		font-size: 1.2rem;
		color: var(--text-light);
		margin-bottom: 1rem;
		text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3);
	}

	.error-message p {
		font-size: 1.5rem;
		color: var(--text-light);
		opacity: 0.9;
	}

	/* Action Buttons */
	.error-actions {
		display: flex;
		gap: 1rem;
		margin-bottom: 2rem;
	}

	.action-button {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		padding: 0.75rem 1.5rem;
		font-family: "VT323", monospace;
		font-size: 1.3rem;
		border: none;
		border-radius: 8px;
		cursor: pointer;
		transition: all 0.2s;
		box-shadow: var(--pixel-shadow);
		text-decoration: none;
	}

	.action-button:hover {
		transform: translate(-2px, -2px);
		box-shadow: var(--pixel-shadow-hover);
	}

	.action-button:active {
		transform: translate(2px, 2px);
		box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);
	}

	.action-button.primary {
		background: var(--gold);
		color: var(--dark-blue);
	}

	.action-button.primary:hover {
		background: #ffe44d;
	}

	.action-button.secondary {
		background: rgba(255, 255, 255, 0.9);
		color: var(--dark-blue);
	}

	.action-button.secondary:hover {
		background: white;
	}

	.button-icon {
		font-size: 1.2rem;
	}

	/* Fun message */
	.fun-message {
		font-size: 1.1rem;
		color: var(--text-light);
		opacity: 0.7;
		max-width: 300px;
	}

	/* Responsive */
	@media (max-width: 600px) {
		.back-link {
			top: 1rem;
			left: 1rem;
			font-size: 0.6rem;
			padding: 0.5rem 0.75rem;
		}

		.tower-scene {
			width: 160px;
			height: 224px;
		}

		.error-code {
			font-size: 2.5rem;
		}

		.error-message h1 {
			font-size: 1rem;
		}

		.error-actions {
			flex-direction: column;
		}

		.action-button {
			width: 100%;
			justify-content: center;
		}
	}
</style>
